---
title: Configuration
description: Complete reference for all global and per-operation options available in openapi-mocks.
---

This page documents every option available in `createMockClient` and `generateFromSchema`. Options come in two forms: **global options** set once on the client, and **per-operation options** passed to `.data()` or `.handlers()`.

## Global Options

Global options are passed as the second argument to `createMockClient(spec, options)` or as the argument to `generateFromSchema(schema, options)`.

---

### `seed`

**Type:** `number`
**Default:** `undefined` (random each run)

Sets the random seed for Faker.js data generation. When provided, the same seed always produces the same output, enabling deterministic tests and snapshot testing.

```ts
const client = createMockClient(spec, { seed: 42 });

// Always returns the same data for seed 42
const data = await client.data();
```

Use a fixed seed for snapshot tests, and omit it (or randomize it) for fuzz-style tests that surface unexpected edge cases.

---

### `baseUrl`

**Type:** `string`
**Default:** `''` (empty string — handlers match relative paths)

Prepended to every MSW handler URL pattern. Set this to match the base URL your application uses when making API requests.

```ts
const client = createMockClient(spec, {
  baseUrl: 'https://api.acme.dev/v1',
});

const handlers = await client.handlers();
// Handlers match: https://api.acme.dev/v1/users, https://api.acme.dev/v1/users/:userId, etc.
```

Only applies to `.handlers()`. The `.data()` method does not use `baseUrl`.

---

### `ignoreExamples`

**Type:** `boolean`
**Default:** `false`

When `false` (default), the library uses `example` and `default` values from the OpenAPI spec before falling back to Faker.js generation. When `true`, spec examples are ignored and all values are freshly generated by Faker.

```ts
// Respects spec examples (default behaviour)
const client = createMockClient(spec, { ignoreExamples: false });

// Always generate with Faker — useful when you want varied data
const client = createMockClient(spec, { ignoreExamples: true });
```

Use `ignoreExamples: true` when your spec's examples are placeholder values (e.g. `"string"`, `0`) that would make poor test data.

---

### `statusCodes`

**Type:** `number[]`
**Default:** `undefined` (returns only the lowest 2xx response per operation)

When provided, generates data for all listed status codes instead of just the default. Useful when you want to test both success and error responses.

```ts
const client = createMockClient(spec, {
  statusCodes: [200, 422],
});

const data = await client.data();
// data.get('listUsers')?.get(200)  — success response
// data.get('listUsers')?.get(422)  — validation error response
```

Status codes that are not defined in the spec for a given operation are silently skipped.

---

### `echoPathParams`

**Type:** `boolean`
**Default:** `false`

When `true`, MSW handlers automatically copy path parameter values from the intercepted request into matching fields in the response body. For example, a `GET /users/:userId` request with `userId = "abc123"` will have `userId: "abc123"` in the generated response.

```ts
const client = createMockClient(spec, {
  baseUrl: 'https://api.acme.dev/v1',
  echoPathParams: true,
});

const handlers = await client.handlers();
// GET /users/abc123 → response body includes { userId: 'abc123', ... }
```

Matching is case-insensitive and supports camelCase / snake_case variants (e.g. a param named `user_id` will match a response field named `userId`).

Only applies to `.handlers()`. The `.data()` method ignores this option because no request is available.

---

### `maxDepth`

**Type:** `number`
**Default:** `3`

Maximum recursion depth for circular or self-referential schemas. When the walker reaches this depth on a circular reference, it substitutes a minimal stub value instead of recursing further.

```ts
const client = createMockClient(spec, { maxDepth: 5 });
```

Increase `maxDepth` for deeply nested structures. Reduce it to keep generated objects shallow. Required non-nullable circular fields receive a minimal stub (e.g. an empty object or primitive) at the depth limit.

---

## Per-Operation Options

Per-operation options are passed inside the `operations` map to `.data()` or `.handlers()`. Each key in the map is an `operationId` from your spec.

```ts
const data = await client.data({
  operations: {
    listUsers: { /* per-operation options */ },
    getUser:   { /* per-operation options */ },
  },
});
```

When `operations` is provided, only the listed operations are generated. Omit it to generate all operations.

---

### `statusCode`

**Type:** `number`
**Default:** lowest 2xx code defined in the spec

Selects a specific response status code for this operation, overriding the default lowest-2xx behaviour. Use this to generate error responses in specific tests.

```ts
const data = await client.data({
  operations: {
    createUser: { statusCode: 422 },
  },
});

// data.get('createUser')?.get(422) — validation error shape
```

If the specified code is not defined in the spec for the operation, the operation is skipped with a `console.warn`.

---

### `transform`

**Type (`.data()`):** `(data: Record<string, unknown>) => Record<string, unknown>`
**Type (`.handlers()`):** `(data: Record<string, unknown>, request: Request) => Record<string, unknown>`
**Default:** `undefined`

A callback that receives the generated data and returns a modified version. The return value replaces the response body. If the callback returns `undefined`, the original generated data is used.

In `.handlers()`, the callback also receives the MSW `Request` object, giving access to the URL, query parameters, headers, and body.

```ts
// .data() — simple transform, no request access
const data = await client.data({
  operations: {
    getUser: {
      transform: (data) => ({ ...data, name: 'Jane Doe' }),
    },
  },
});

// .handlers() — request-aware transform for pagination
const handlers = await client.handlers({
  operations: {
    listUsers: {
      transform: (data, request) => {
        const url = new URL(request.url);
        const cursor = Number(url.searchParams.get('cursor') ?? 1);
        return {
          ...data,
          page: cursor,
          nextPage: cursor < 3 ? cursor + 1 : null,
          totalPages: 3,
        };
      },
    },
  },
});
```

The `data` argument is a shallow copy — mutations do not affect internal state.

---

### `arrayLengths`

**Type:** `Record<string, [number, number]>`
**Default:** `undefined` (random 0–5 items per array)

Controls the number of items generated for array schemas. Keys are dot-notation property paths (or wildcard paths for nested arrays), values are `[min, max]` tuples.

```ts
const data = await client.data({
  operations: {
    listUsers: {
      arrayLengths: {
        // Top-level array: exactly 10 users
        'users': [10, 10],

        // Nested array: each user has exactly 1 address
        'users[*].addresses': [1, 1],

        // Range: 2–4 phone numbers per user
        'users[*].phoneNumbers': [2, 4],
      },
    },
  },
});
```

When `min === max`, exactly that count is generated. When `min < max`, a random count within the range is chosen (seeded).

Schema-level `minItems` / `maxItems` constraints are intersected with the provided tuple. For example, if the schema requires `minItems: 1` and you specify `[0, 5]`, the effective minimum is `1`.

**Wildcard notation** (`[*]`): targets arrays nested within each element of the parent array. `'users[*].addresses': [1, 1]` means "for each user, generate exactly 1 address."

---

### `overrides`

**Type:** `Record<string, unknown>`
**Default:** `{}`

Injects explicit values into the generated output at specific dot-notation paths. Overrides are applied after generation, replacing the generated value at the path.

```ts
const data = await client.data({
  operations: {
    getUser: {
      overrides: {
        'name': 'Alice Smith',           // top-level field
        'address.city': 'New York',      // nested field
        'phoneNumbers.0': '+1-555-0100', // array element by index
        'deletedAt': null,               // explicit null
      },
    },
  },
});
```

Overrides also force optional fields to be included in the output — if an optional field has an override, it will always be present regardless of the random omission logic.

---

## Option Summary

| Option | Scope | Type | Default |
|--------|-------|------|---------|
| `seed` | Global | `number` | `undefined` |
| `baseUrl` | Global | `string` | `''` |
| `ignoreExamples` | Global | `boolean` | `false` |
| `statusCodes` | Global | `number[]` | `undefined` |
| `echoPathParams` | Global (`.handlers()` only) | `boolean` | `false` |
| `maxDepth` | Global | `number` | `3` |
| `statusCode` | Per-operation | `number` | lowest 2xx |
| `transform` | Per-operation | `Function` | `undefined` |
| `arrayLengths` | Per-operation | `Record<string, [number, number]>` | `undefined` |
| `overrides` | Per-operation | `Record<string, unknown>` | `{}` |
